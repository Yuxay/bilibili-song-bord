!function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(t){var e=void 0,a=void 0;for(e=0;e<t.clipboardData.items.length;){if(a=t.clipboardData.items[e],-1!==a.type.indexOf("image"))return a;e++}return!1}function a(e,a){var o=void 0,i=void 0;o=new XMLHttpRequest,o.withCredentials=!1;var l=t.settings.pasteUploadConfig;if(o.open("POST",l.url),l.headers&&l.headers.length>0){var c=!0,u=!1,d=void 0;try{for(var s,f=l.headers[Symbol.iterator]();!(c=(s=f.next()).done);c=!0){var p=s.value;o.setRequestHeader(p.name,p.value)}}catch(t){u=!0,d=t}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}o.onload=function(){var t=void 0;if(t=JSON.parse(o.responseText),200!==o.status)return alert("上传失败"),void r(a);if(l.diyExtractUrl){n(l.extractUrlFun(t))}else n(t.data.fullUrl)},i=new FormData,i.append("file",e),o.send(i)}function n(e){var a=t.getContent();a=a.replace(i,'<img src="'+e+'">'),t.setContent(a),t.selection.select(t.getBody(),!0),t.selection.collapse(!1)}function r(e){var a=t.getContent();a=a.replace(i,e),t.setContent(a),t.selection.select(t.getBody(),!0),t.selection.collapse(!1)}function o(t){var e=void 0;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData&&(e=t.clipboardData.getData("text/plain")),e=e.split("\r"),e[0]}var i='<img id="loadingImg" src="http://cos.qdqcwy.cn/group1/M00/00/00/rBHIsFtz4TSAJ1P0AAAUUF6elKk222.gif" alt="" />';t.on("Paste",function(n){var r=void 0,l=void 0;if(l=n,l.clipboardData&&l.clipboardData.items&&(r=e(l)))return n.preventDefault(),t.execCommand("mceInsertContent",!1,i),a(r.getAsFile(),o(l))})};e.default=n},function(t,e,a){"use strict";var n=a(0),r=function(t){return t&&t.__esModule?t:{default:t}}(n);tinymce.PluginManager.add("paste-upload",r.default)}]);